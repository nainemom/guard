import{r,j as e,d as m,B as u,I as c,s as d}from"./index-1813056b.js";import{h,L as p,B as x,I as f,e as j,s as y,b as g}from"./files-d5a112ed.js";import{u as b,H as E,s as w}from"./usePromise-7833ee93.js";function I({publicKey:s}){const[t,a]=r.useState("");return r.useEffect(()=>{s?h(s).then(a):a("")},[s]),e.jsx(e.Fragment,{children:t})}function v(){const{receiver:s}=m(),t=r.useMemo(()=>decodeURIComponent(s||""),[s]),a=b(o=>j(y(o),t).then(g),{debounceTimer:200,respectLoading:!1}),[n,i]=r.useState(""),l=()=>{a.refresh(n).then(w).then(o=>{o==="clipboard"&&d("Encrypted Content Copied to Clipboard!")})};return e.jsxs(p,{children:[e.jsx(E,{title:"Guard Encrypt",subtitle:e.jsx(I,{publicKey:t})}),e.jsx(x,{className:"flex flex-col",stickyArea:e.jsx("div",{className:"m-3 flex flex-row gap-3",children:e.jsx(u,{theme:"primary",size:"lg",circle:!0,onClick:l,disabled:!t||!n,ariaLabel:"Share",children:a.state==="loading"?e.jsx(c,{name:"sync",className:"w-6 h-6 animate-spin"}):e.jsx(c,{name:"share",className:"w-6 h-6"})})}),children:e.jsx(f,{className:"h-full flex-grow",size:"manual",value:n,onInput:i,readOnly:a.state==="loading",multiLine:!0,placeholder:"Enter Your Raw Message."})})]})}export{v as default};
