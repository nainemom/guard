import{r as t,j as e,d as u,s as o,B as m,I as h}from"./index-7f5cd6da.js";import{h as d,e as p,s as x,b as f,L as y,B as j,I as b}from"./files-4b2dcb10.js";import{s as g,H as E}from"./Header-67cdc1f2.js";function w({publicKey:a}){const[r,s]=t.useState("");return t.useEffect(()=>{a?d(a).then(s):s("")},[a]),e.jsx(e.Fragment,{children:r})}function B(){const{receiver:a}=u(),r=t.useMemo(()=>decodeURIComponent(a||""),[a]),[s,c]=t.useState(""),l=t.useCallback(async()=>{try{const n=await p(x(s),r),i=f(n);await g(i)==="clipboard"&&o("Encrypted Content Copied to Clipboard!")}catch(n){console.error(n),o("Share Error!")}},[s,r]);return e.jsxs(y,{children:[e.jsx(E,{title:"Guard Encrypt",subtitle:e.jsx(w,{publicKey:r})}),e.jsx(j,{className:"flex flex-col",stickyArea:e.jsx("div",{className:"m-3 flex flex-row gap-3",children:e.jsx(m,{theme:"primary",size:"lg",circle:!0,onClick:l,disabled:!r||!s,ariaLabel:"Share",children:e.jsx(h,{name:"share",className:"w-6 h-6"})})}),children:e.jsx(b,{className:"h-full flex-grow",size:"manual",value:s,onInput:c,multiLine:!0,placeholder:"Enter Your Raw Message."})})]})}export{B as default};
