import{j as e,e as u,r,N as x}from"./index-7f5cd6da.js";import{n as y,u as f,c as h,d as b,f as j,L as N,B as E,I as v}from"./files-4b2dcb10.js";import{H as g}from"./Header-67cdc1f2.js";function k({children:t,className:s}){return e.jsx("div",{className:u("x-resizable",s),children:t})}function o({children:t,className:s}){return e.jsx("div",{className:u("x-resizable-section",s),children:t})}function T(){y();const[t]=f(),[s,d]=r.useState(""),[p,a]=r.useState(""),[c,l]=r.useState(),[m,n]=r.useState(!1);r.useEffect(()=>(clearTimeout(c),s&&l(setTimeout(async()=>{try{n(!1),t&&a(h(await b(j(s),t.private_key)))}catch{a(""),n(!0)}},300)),()=>{clearTimeout(c)}),[s,l,a,n]);const i=r.useMemo(()=>{if(t)return`/encrypt/${encodeURIComponent(t.public_key)}`},[]);return e.jsxs(N,{children:[e.jsx(g,{title:"Guard Decrypt",subtitle:"Decrypt received messages"}),e.jsx(E,{children:e.jsxs(k,{children:[e.jsx(o,{className:"h-64",children:e.jsx(v,{size:"manual",className:"h-full font-mono",value:s,onInput:d,multiLine:!0,placeholder:"Enter Encrypted Content."})}),e.jsxs(o,{className:"p-3",children:[e.jsx("h2",{className:"pb-2 text-base font-bold",children:" Output: "}),e.jsx("div",{className:"pb-4 text-base text-body-content h-full w-full break-all overflow-auto whitespace-pre-line",children:m?e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-danger-normal font-bold",children:"Decrypt Error!"}),i&&e.jsxs("p",{className:"text-sm text-section-subtitle",children:["Encrypted content must be created using your ",e.jsx(x,{className:"underline underline-offset-4",to:i,target:"_blank",children:"Guard Link"}),"."]})]}):e.jsx(e.Fragment,{children:p})})]})]})})]})}export{T as default};
